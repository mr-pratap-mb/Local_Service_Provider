import{r as s,u as v,j as e,s as p}from"./index-B3IZbtJy.js";function N(){const[t,x]=s.useState(""),[n,h]=s.useState(""),[o,g]=s.useState(""),[i,f]=s.useState("user"),[u,d]=s.useState(!1),b=v();async function j(r){r.preventDefault(),d(!0);try{const{data:a,error:c}=await p.auth.signUp({email:t,password:n});if(c)throw c;const l=a?.user;if(!l?.id)throw new Error("No user returned from signup");const{error:m}=await p.from("profiles").insert([{id:l.id,full_name:o,email:l.email,role:i}]);if(m)throw m;alert("Signup successful! You can now log in."),b("/login")}catch(a){console.error(a),alert("Signup failed: "+a.message)}finally{d(!1)}}return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 to-purple-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-purple-700 mb-6",children:"Create an Account"}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:o,onChange:r=>g(r.target.value),required:!0,className:"w-full border rounded-md p-2",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:t,onChange:r=>x(r.target.value),required:!0,className:"w-full border rounded-md p-2",placeholder:"you@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",value:n,onChange:r=>h(r.target.value),required:!0,className:"w-full border rounded-md p-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-700 mb-1",children:"Role"}),e.jsxs("select",{value:i,onChange:r=>f(r.target.value),className:"w-full border rounded-md p-2",children:[e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"provider",children:"Provider"})]})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full bg-purple-600 text-white py-2 rounded-md hover:bg-purple-700 transition",children:u?"Creating...":"Sign Up"})]})]})})}export{N as default};
