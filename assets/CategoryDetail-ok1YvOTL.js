import{a as u,r,s as d,j as e,L as c}from"./index-DufLLdDR.js";function p(){const{id:a}=u(),[t,x]=r.useState(null),[i,m]=r.useState([]),[g,l]=r.useState(!0);r.useEffect(()=>{h()},[a]);async function h(){try{l(!0);const{data:s,error:o}=await d.from("categories").select("id, name").eq("id",a).single();if(o)throw o;x(s);const{data:f,error:n}=await d.from("services").select(`
          id,
          title,
          description,
          price,
          provider_id,
          profiles(full_name)
        `).eq("category_id",a).order("created_at",{ascending:!1});if(n)throw n;m(f||[])}catch(s){console.error("Error fetching:",s.message)}finally{l(!1)}}return g?e.jsx("div",{className:"p-10 text-center text-purple-700",children:"Loading..."}):t?e.jsx("div",{className:"min-h-screen bg-white py-10 px-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:[t.name," Services"]}),e.jsxs("p",{className:"text-gray-600 max-w-2xl mx-auto",children:["Browse and book professional ",t.name.toLowerCase()," services near you"]})]}),i.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[e.jsx("div",{className:"text-2xl text-gray-500 mb-4",children:"No services available yet"}),e.jsxs("p",{className:"text-gray-600 mb-6 max-w-lg mx-auto",children:["Be the first to offer ",t.name.toLowerCase()," services in your area"]}),e.jsx(c,{to:"/add-service",className:"inline-block bg-indigo-600 text-white py-3 px-8 rounded-lg font-medium hover:bg-indigo-700 transition",children:"List Your Service"})]}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:i.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100 hover:shadow-lg transition-all duration-300",children:[e.jsx("div",{className:"h-48 bg-gray-100 overflow-hidden relative",children:e.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500 font-medium",children:"Service Image"})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.title}),e.jsxs("span",{className:"text-xl font-bold text-indigo-600",children:["â‚¹",s.price]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex items-center text-gray-500 text-sm mb-4",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),s.profiles?.full_name||"Professional Provider"]}),e.jsx(c,{to:`/services/${s.id}`,className:"block w-full text-center bg-indigo-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-indigo-700 transition",children:"View Details"})]})]},s.id))})]})}):e.jsx("div",{className:"p-10 text-center text-gray-600",children:"Category not found."})}export{p as default};
