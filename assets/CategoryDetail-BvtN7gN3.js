import{a as f,r,s as o,j as e,L as h}from"./index-B3IZbtJy.js";function v(){const{id:s}=f(),[a,d]=r.useState(null),[i,x]=r.useState([]),[p,n]=r.useState(!0);r.useEffect(()=>{g()},[s]);async function g(){try{n(!0);const{data:t,error:c}=await o.from("categories").select("id, name").eq("id",s).single();if(c)throw c;d(t);const{data:m,error:l}=await o.from("services").select(`
          id,
          title,
          description,
          price,
          provider_id,
          profiles(full_name)
        `).eq("category_id",s).order("created_at",{ascending:!1});if(l)throw l;x(m||[])}catch(t){console.error("Error fetching:",t.message)}finally{n(!1)}}return p?e.jsx("div",{className:"p-10 text-center text-purple-700",children:"Loading..."}):a?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 to-purple-50 py-10 px-6",children:[e.jsxs("h2",{className:"text-3xl font-bold text-purple-700 mb-8 text-center",children:[a.name," Services"]}),i.length===0?e.jsx("p",{className:"text-center text-gray-600",children:"No services have been added yet."}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto",children:i.map(t=>e.jsxs("div",{className:"bg-white shadow border border-gray-100 rounded-xl p-5 hover:shadow-lg transition flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-purple-700",children:t.title}),e.jsx("p",{className:"text-gray-600 mt-1",children:t.description}),e.jsxs("p",{className:"text-gray-800 font-semibold mt-2",children:["₹",t.price," —"," ",e.jsx("span",{className:"text-gray-500 text-sm",children:t.profiles?.full_name||"Unknown Provider"})]})]}),e.jsx(h,{to:`/services/${t.id}`,className:"mt-4 inline-block text-center bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition",children:"View Details"})]},t.id))})]}):e.jsx("div",{className:"p-10 text-center text-gray-600",children:"Category not found."})}export{v as default};
